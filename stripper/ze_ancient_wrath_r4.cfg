;Fix linux vphysics prop lag.
modify:
{
	match:
	{
		"classname" "prop_dynamic"
		"hammerid" "2073019"
	}
	replace:
	{
		"solid" "0"
	}
}

modify:
{
	match:
	{
		"classname" "prop_dynamic"
		"hammerid" "2073015"
	}
	replace:
	{
		"solid" "0"
	}
}

;Make inferno gun's fuel counter more accurate for entWatch hud.
modify:
{
	match:
	{
		"classname" "math_counter"
		"targetname" "weapon_flamethrower_counter"
	}
	replace:
	{
		"max" "7"
	}
}

;fix round never ending if someone gets stuck in rocks and no humans pass the train ending
add:
{
	"classname" "logic_relay"
	"origin" "15952 2356 -143"
	"targetname" "fail_relay"
	"StartDisabled" "0"
	"spawnflags" "0"
	"OnTrigger" "playerRunScriptCodeforeach(k,_ in{SetHealth=0}){if(self.GetTeam()==3&&self.GetHealth()>0)EntFireByHandle(self, k,(0).tostring(),0,null,null)}01"
}
modify:
{
	match:
	{
		"classname" "path_track"
		"targetname" "Train_path4"
	}
	insert:
	{
		"OnPass" "fail_relayTrigger01"
	}
}
modify:
{
	match:
	{
		"classname" "trigger_once"
		"targetname" "2_Ending"
	}
	insert:
	{
		"OnStartTouch" "fail_relayKill01"
	}
}

;block off an overpowered shortcut for zombies into the elevator defence
add:
{
	"classname" "func_brush"
	"origin" "-825 1136 352"
	"angles" "90 0 0"
	"model" "*282"
	"rendermode" "10"
	"vrad_brush_cast_shadows" "0"
	"disableflashlight" "0"
	"StartDisabled" "0"
	"disablereceiveshadows" "0"
	"spawnflags" "2"
	"disableshadowdepth" "0"
	"Solidity" "0"
	"disableshadows" "0"
	"drawinfastreflection" "0"
	"solidbsp" "0"
	"fademaxdist" "0"
	"shadowdepthnocache" "0"
	"fademindist" "-1"
	"fadescale" "1"
	"renderfx" "0"
	"InputFilter" "0"
	"rendercolor" "255 255 255"
	"invert_exclusion" "0"
	"renderamt" "255"
}

;try to stop players from getting the boss stuck, kills anyone standing inside of it when the fight starts
add:
{
	"classname" "trigger_hurt"
	"origin" "-3503.01 -2403 -935.34"
	"model" "*103"
	"targetname" "anticamp_hurt"
	"StartDisabled" "1"
	"spawnflags" "1"
	"nodmgforce" "0"
	"damagetype" "0"
	"damagemodel" "0"
	"damagecap" "0"
	"damage" "9999"
}
modify:
{
	match:
	{
		"classname" "trigger_once"
		"origin" "-3475 -2537 -555"
	}
	insert:
	{
		"OnStartTouch" "anticamp_hurtEnable5.51"
		"OnStartTouch" "anticamp_hurtDisable8.51"
	}
}

;Replace stage 4 boss trigger_hurt parenting with logic_measure_movement.
modify:
{
	match:
	{
		"targetname" "dw_hurt"
		"classname" "trigger_hurt"
	}
	replace:
	{
		"targetname" "dw_hurt_reference"
	}
}

add:
{
	"model" "*103"
	"targetname" "dw_hurt"
	"StartDisabled" "1"
	"spawnflags" "1"
	"origin" "-3503.01 -2345 -935.34"
	"nodmgforce" "0"
	"damagetype" "128"
	"damagemodel" "0"
	"damagecap" "0"
	"damage" "100"
	"classname" "trigger_hurt"

	"OnHurtPlayer" "Slowdown,Trigger,,0,-1"
}

add:
{
	"origin" "-3503 -2397.05 -1185"
	"TargetScale" "1"
	"TargetReference" "dw_hurt_reference"
	"Target" "dw_hurt"
	"MeasureTarget" "dw_hurt_reference"
	"MeasureReference" "dw_hurt_reference"
	"classname" "logic_measure_movement"
}