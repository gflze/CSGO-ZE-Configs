;stripper by koen (STEAM_1:1:114921174)

;move gravity particle lower to not block vision
modify:
{
	match:
	{
		"classname" "info_particle_system"
		"targetname" "gravity_eff"
	}
	replace:
	{
		"origin" "-5216 -573.338 1453"
	}
}

;fix item particles not showing up when they spawn
modify:
{
	match:
	{
		"classname" "info_particle_system"
		"targetname" "Item_wind_particle_sfera"
	}
	replace:
	{
		"start_active" "0"
	}
}

modify:
{
	match:
	{
		"classname" "point_template"
		"targetname" "Item_wind_template"
	}
	insert:
	{
		"OnEntitySpawned" "Item_wind_particle_sferaStart3-1"
	}
}

modify:
{
	match:
	{
		"classname" "info_particle_system"
		"targetname" "Item_Ammo_Model"
	}
	replace:
	{
		"start_active" "0"
	}
}

modify:
{
	match:
	{
		"classname" "point_template"
		"targetname" "Item_Ammo_Template"
	}
	insert:
	{
		"OnEntitySpawned" "Item_Ammo_ModelStart3-1"
	}
}

modify:
{
	match:
	{
		"classname" "info_particle_system"
		"targetname" "gravity_eff"
	}
	replace:
	{
		"start_active" "0"
	}
}

modify:
{
	match:
	{
		"classname" "point_template"
		"targetname" "gravity_itemtemp"
	}
	insert:
	{
		"OnEntitySpawned" "gravity_effStart3-1"
	}
}

;fix immunity game_text repeatedly displaying even after immunity has returned
modify:
{
	match:
	{
		"classname" "logic_auto"
	}
	insert:
	{
		"OnMapSpawn" "text_lasersRunScriptCodesaveTime <- Time();01"
		"OnMapSpawn" "text_lasersRunScriptCodeInputDisplay<-function(){if(Time()-saveTime>2.0){saveTime = Time(); return true;}else{return false;}}0.021"
	}
}

;prevent zombies getting boosted into next room by teleporting them away and moving the trigger a bit back
modify:
{
	match:
	{
		"classname" "trigger_push"
		"targetname" "push_protect_1"
	}
	replace:
	{
		"classname" "trigger_teleport"
		"origin" "2668 9592 -1920"
		"spawnflags" "4097"
	}
	insert:
	{
		"target" "tp_dest_10_t"
		"UseLandmarkAngles" "1"
	}
}